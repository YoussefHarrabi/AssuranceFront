<div class="container">
    <div class="row my-4">
      <div class="col-12">
        <h2 class="fables-main-text-color font-30 mb-4">My Account</h2>
        
        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>
        
        <!-- Loading Indicator -->
        <div *ngIf="loading" class="text-center my-4">
          <div class="spinner-border fables-second-text-color" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          <p class="mt-2">Loading your profile...</p>
        </div>
  
        <!-- Tabs Navigation -->
        <ul class="nav nav-tabs mb-4" *ngIf="!loading">
          <li class="nav-item">
            <a class="nav-link" [class.active]="activeTab === 'profile'" (click)="setActiveTab('profile')" href="javascript:void(0)">
              <i class="fas fa-user mr-2"></i> Profile
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [class.active]="activeTab === 'security'" (click)="setActiveTab('security')" href="javascript:void(0)">
              <i class="fas fa-shield-alt mr-2"></i> Security
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [class.active]="activeTab === 'preferences'" (click)="setActiveTab('preferences')" href="javascript:void(0)">
              <i class="fas fa-cog mr-2"></i> Preferences
            </a>
          </li>
        </ul>
  
        <!-- Tab Content -->
        <div class="tab-content" *ngIf="!loading && currentUser">
          <!-- Profile Tab -->
          <div class="tab-pane fade show" [class.active]="activeTab === 'profile'">
            <div class="row">
              <div class="col-md-4 mb-4">
                <div class="card">
                  <div class="card-body text-center">
                    <div class="mb-3">
                      <i class="fas fa-user-circle fa-5x fables-second-text-color"></i>
                    </div>
                    <h5 class="card-title">{{ currentUser.firstName }} {{ currentUser.lastName }}</h5>
                    <p class="card-text text-muted">{{ currentUser.email }}</p>
                    <button class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-camera mr-2"></i> Change Avatar
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-md-8">
                <div class="card">
                  <div class="card-header fables-second-background-color white-color">
                    <h5 class="mb-0">Profile Information</h5>
                  </div>
                  <div class="card-body">
                    <div class="row mb-3">
                      <div class="col-sm-4"><strong>Name:</strong></div>
                      <div class="col-sm-8">{{ currentUser.firstName }} {{ currentUser.lastName }}</div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-sm-4"><strong>Email:</strong></div>
                      <div class="col-sm-8">{{ currentUser.email }}</div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-sm-4"><strong>Phone:</strong></div>
                      <div class="col-sm-8">{{ currentUser.phoneNumber }}</div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-sm-4"><strong>Member Since:</strong></div>
                      <div class="col-sm-8">{{ currentUser.createdAt ? (currentUser.createdAt | date:'mediumDate') : 'N/A' }}</div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-sm-4"><strong>Account Type:</strong></div>
                     
                    </div>
                    <button class="btn fables-second-background-color white-color">
                      <i class="fas fa-edit mr-2"></i> Edit Profile
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Security Tab -->
          <div class="tab-pane fade show" [class.active]="activeTab === 'security'">
            <div class="row">
              <div class="col-12 mb-4">
                <div class="card">
                  <div class="card-header fables-second-background-color white-color">
                    <h5 class="mb-0">Security Options</h5>
                  </div>
                  <div class="card-body">
                    <div class="list-group">
                      <!-- Password Change Option -->
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                          <h6 class="mb-1">Password</h6>
                          <p class="mb-0 text-muted">Change your account password</p>
                        </div>
                        <button class="btn btn-outline-secondary">
                          Change Password
                        </button>
                      </div>
                      
                      <!-- Two-Factor Authentication Option -->
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                          <h6 class="mb-1">Two-Factor Authentication</h6>
                          <p class="mb-0 text-muted">Add an extra layer of security to your account</p>
                        </div>
                        <a routerLink="/client/account/security" class="btn fables-second-background-color white-color">
                          Manage 2FA
                        </a>
                      </div>
                      
                      <!-- Login History Option -->
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                          <h6 class="mb-1">Login History</h6>
                          <p class="mb-0 text-muted">View your recent login activity</p>
                        </div>
                        <button class="btn btn-outline-secondary">
                          View History
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Current Date and Time Information -->
            <div class="card mt-3">
              <div class="card-body">
                <h6 class="card-subtitle mb-2 text-muted">System Information</h6>
                <p class="mb-1">Current Date and Time (UTC): 2025-03-06 00:03:43</p>
                <p class="mb-0">Current User: YoussefHarrabi</p>
              </div>
            </div>
          </div>
  
          <!-- Preferences Tab -->
          <div class="tab-pane fade show" [class.active]="activeTab === 'preferences'">
            <div class="card">
              <div class="card-header fables-second-background-color white-color">
                <h5 class="mb-0">Account Preferences</h5>
              </div>
              <div class="card-body">
                <form>
                  <!-- Notification Preferences -->
                  <h6 class="mb-3">Notification Preferences</h6>
                  
                  <div class="form-group mb-4">
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="emailNotifications" checked>
                      <label class="custom-control-label" for="emailNotifications">
                        Email notifications
                      </label>
                    </div>
                    <small class="form-text text-muted">
                      Receive updates and notifications about your account via email
                    </small>
                  </div>
                  
                  <div class="form-group mb-4">
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="smsNotifications">
                      <label class="custom-control-label" for="smsNotifications">
                        SMS notifications
                      </label>
                    </div>
                    <small class="form-text text-muted">
                      Receive text messages for important account updates
                    </small>
                  </div>
  
                  <!-- Display Preferences -->
                  <h6 class="mb-3">Display Preferences</h6>
                  
                  <div class="form-group mb-4">
                    <label for="language">Language</label>
                    <select class="form-control" id="language">
                      <option value="en">English</option>
                      <option value="fr">French</option>
                      <option value="ar">Arabic</option>
                    </select>
                  </div>
                  
                  <div class="form-group mb-4">
                    <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="darkMode">
                      <label class="custom-control-label" for="darkMode">
                        Dark Mode
                      </label>
                    </div>
                    <small class="form-text text-muted">
                      Enable dark mode for a more comfortable viewing experience
                    </small>
                  </div>
  
                  <button type="submit" class="btn fables-second-background-color white-color">
                    Save Preferences
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>